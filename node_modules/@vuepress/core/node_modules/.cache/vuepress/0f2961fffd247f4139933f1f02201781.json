{"remainingRequest":"/Users/shione/RunSilver/素材/card3/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/shione/RunSilver/素材/card3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shione/RunSilver/素材/card3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shione/RunSilver/素材/card3/docs/.vuepress/components/CanvasNest.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shione/RunSilver/素材/card3/docs/.vuepress/components/CanvasNest.vue","mtime":1661490699000},{"path":"/Users/shione/RunSilver/素材/card3/node_modules/cache-loader/dist/cjs.js","mtime":1661524227988},{"path":"/Users/shione/RunSilver/素材/card3/node_modules/babel-loader/lib/index.js","mtime":1661524228037},{"path":"/Users/shione/RunSilver/素材/card3/node_modules/cache-loader/dist/cjs.js","mtime":1661524227988},{"path":"/Users/shione/RunSilver/素材/card3/node_modules/vue-loader/lib/index.js","mtime":1661524228362}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBjb3VudDogewogICAgICAvLyDnur/mnaHmlbDph48KICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnOTAnCiAgICB9LAogICAgb3BhY2l0eTogewogICAgICAvLyDnur/mnaHpgI/mmI7luqYKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnMC43JwogICAgfSwKICAgIGNvbG9yOiB7CiAgICAgIC8vIOe6v+adoeminOiJsgogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcyMDgsNTUsNjYnCiAgICB9LAogICAgekluZGV4OiB7CiAgICAgIC8vIOeUu+mdouWxgue6pwogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICctMScKICAgIH0sCiAgICBnbG9iYWw6IHsKICAgICAgLy8g5piv5ZCm5YWo5bGA5byV5YWlCiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNob3dDYW52YXMoKTsKICB9LAoKICBjcmVhdGVkKCkge30sCgogIG1ldGhvZHM6IHsKICAgIGNoZWNrKCkgewogICAgICBsZXQgZmxhZyA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhwaG9uZXxwb2R8aVBob25lfGlQYWR8aVBvZHxpb3N8QW5kcm9pZHxCbGFja0JlcnJ5fElFTW9iaWxlfE1RUUJyb3dzZXJ8SlVDfEZlbm5lY3x3T1NCcm93c2VyfEJyb3dzZXJOR3xXZWJPU3xTeW1iaWFufFdpbmRvd3MgUGhvbmUpL2kpOwogICAgICByZXR1cm4gIWZsYWc7CiAgICB9LAoKICAgIHNob3dDYW52YXMoKSB7CiAgICAgIGlmICghdGhpcy5jaGVjaygpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgiY291bnQiLCB0aGlzLmNvdW50KTsKICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNvbG9yIiwgdGhpcy5jb2xvcik7CiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJuYW1lIiwgImNhbnZhcy1uZXN0LW5hbWUiKTsKICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoIm9wYWNpdHkiLCB0aGlzLm9wYWNpdHkpOwogICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgiekluZGV4IiwgdGhpcy56SW5kZXgpOwogICAgICBlbGVtZW50LnNyYyA9ICJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2NhbnZhcy1uZXN0LmpzL2Rpc3QvY2FudmFzLW5lc3QuanMiOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpOwogICAgfQoKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKCF0aGlzLmdsb2JhbCkgewogICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImNhbnZhcyIpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYW52YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjYW52YXNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBjYW52YXNbaV0ucmVtb3ZlKCk7CiAgICAgIH0KCiAgICAgIHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHNjcmlwdHNbaV0gJiYgc2NyaXB0c1tpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSA9PSAiY2FudmFzLW5lc3QtbmFtZSIpIHsKICAgICAgICAgIHNjcmlwdHNbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRzW2ldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cgp9Ow=="},{"version":3,"mappings":"AAKA;EACAA;IACAC;MAAA;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MAAA;MACAF,YADA;MAEAC;IAFA,CALA;IASAE;MAAA;MACAH,YADA;MAEAC;IAFA,CATA;IAaAG;MAAA;MACAJ,YADA;MAEAC;IAFA,CAbA;IAiBAI;MAAA;MACAL,aADA;MAEAC;IAFA;EAjBA,CADA;;EAuBAK;IACA;EAGA,CA3BA;;EA4BAC;IACA;EACA,CA9BA;;EA+BAC,WAEA,CAjCA;;EAkCAC;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACA;QAAA;MAAA;;MACA;MACAC;MACAA;MACAA;MACAA;MACAA;MACAA;MACAC;IACA;;EAfA,CAlCA;;EAmDAC;IACA;MACA;;MACA;QACAC;QACAA;MACA;;MACA;;MACA;QACA;UACAC;QACA;MACA;IACA;EACA;;AAjEA","names":["props","count","type","default","opacity","color","zIndex","global","data","mounted","created","methods","check","showCanvas","element","document","beforeDestroy","canvas","scripts"],"sourceRoot":"docs/.vuepress/components","sources":["CanvasNest.vue"],"sourcesContent":["<template>\n    \n</template>\n\n<script>\n  export default {\n    props: {\n        count: {// 线条数量\n            type: String,\n            default: '90'\n        },\n        opacity: {// 线条透明度\n            type: String,\n            default: '0.7'\n        },\n        color: {// 线条颜色\n            type: String,\n            default: '208,55,66'\n        },\n        zIndex: {// 画面层级\n            type: String,\n            default: '-1'\n        },\n        global: {// 是否全局引入\n          type: Boolean,\n          default: true\n        }\n    },\n    data() {\n      return {\n        \n      }\n    },\n    mounted() {\n      this.showCanvas();\n    },\n    created() {\n      \n    },\n    methods: {\n      check() {\n        let flag = navigator.userAgent.match(/(phone|pod|iPhone|iPad|iPod|ios|Android|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)\n        return !flag;\n      },\n      showCanvas() {\n        if(!this.check()){return}\n        var element = document.createElement(\"script\");\n        element.setAttribute(\"count\",this.count);\n        element.setAttribute(\"color\",this.color);\n        element.setAttribute(\"name\",\"canvas-nest-name\");\n        element.setAttribute(\"opacity\",this.opacity);\n        element.setAttribute(\"zIndex\",this.zIndex);\n        element.src = \"https://cdn.jsdelivr.net/npm/canvas-nest.js/dist/canvas-nest.js\";\n        document.body.appendChild(element);\n      }\n    },\n    beforeDestroy() {\n      if(!this.global) {\n        var canvas = document.getElementsByTagName(\"canvas\");\n        for(let i=0; i<canvas.length; i++) {\n            canvas[i].style.display='none';\n            canvas[i].remove();\n        }\n        var scripts = document.getElementsByTagName(\"script\");\n        for (var i = 0; i < scripts.length; i++) {\n            if (scripts[i] && scripts[i].getAttribute(\"name\")==\"canvas-nest-name\") {\n                scripts[i].parentNode.removeChild(scripts[i]);\n            }\n        }\n      }\n    },\n  }\n</script>"]}]}